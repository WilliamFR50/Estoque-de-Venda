<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TigrinhoBet</title>
  <link rel="stylesheet" href="static/base.css">
  <link rel="stylesheet" href="static/clientes.css">
  <link rel="stylesheet" href="static/nav.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  
  <div class="header-container">
    <nav class="nav-bar">
      <a href="/dono">PRODUTOS</a>
      <a href="/clientes" style="background-color: var(--cor-destaque); color: white;">CLIENTES</a>
      <a href="">SERVIÇOS</a>
      <a href="">NOVO PEDIDO</a>
      <a href="">PESQUISAR</a>
      <a href="">RESUMO</a>
      <a href="/gestao">GESTÃO</a>
      <a href="">RELATÓRIO</a>
      <a href="/">SAIR</a>
    </nav>
  </div>

  <section>
    <div class="container">
      <h1>Gerenciamento de Clientes</h1>
      
      <div class="stats-bar">
        <div class="stat-item">Total de Clientes: <span class="stat-value" id="total-clients">8</span></div>
        <div class="stat-item">Clientes Ativos: <span class="stat-value" id="active-clients">6</span></div>
        <div class="stat-item">Inativos: <span class="stat-value" id="inactive-clients">2</span></div>
      </div>
      
      <div class="filters-container">
        <select class="filter-select" id="status-filter">
          <option value="all">Todos os status</option>
          <option value="active">Ativos</option>
          <option value="inactive">Inativos</option>
        </select>
        
        <select class="filter-select" id="sort-filter">
          <option value="name">Ordenar por: Nome (A-Z)</option>
          <option value="recent">Ordenar por: Mais recentes</option>
          <option value="oldest">Ordenar por: Mais antigos</option>
        </select>
      </div>
      
      <div class="top-search-container">
        <input type="text" id="search-input" placeholder="Pesquisar cliente por nome, e-mail ou telefone...">
        <button id="search-button">
          <i class="fas fa-search"></i> Pesquisar
        </button>
      </div>
      
      <div class="clients-container" id="clients-container">
        <!-- Cliente 1 -->
        <div class="client-card">
          <div class="client-header">
            <div class="client-name">Maria Silva</div>
            <div class="client-id">#CL001</div>
          </div>
          <div class="client-details">
            <div class="client-info">
              <span class="info-label">E-mail</span>
              <span class="info-value">maria.silva@email.com</span>
            </div>
            <div class="client-info">
              <span class="info-label">Telefone</span>
              <span class="info-value">(11) 99999-9999</span>
            </div>
            <div class="client-info">
              <span class="info-label">CPF</span>
              <span class="info-value">123.456.789-00</span>
            </div>
            <div class="client-info">
              <span class="info-label">Status</span>
              <span class="info-value" style="color: var(--cor-sucesso);">Ativo</span>
            </div>
          </div>
          <div class="client-actions">
            <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Editar</button>
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Excluir</button>
          </div>
        </div>
        
        <!-- Cliente 2 -->
        <div class="client-card">
          <div class="client-header">
            <div class="client-name">João Santos</div>
            <div class="client-id">#CL002</div>
          </div>
          <div class="client-details">
            <div class="client-info">
              <span class="info-label">E-mail</span>
              <span class="info-value">joao.santos@email.com</span>
            </div>
            <div class="client-info">
              <span class="info-label">Telefone</span>
              <span class="info-value">(11) 98888-8888</span>
            </div>
            <div class="client-info">
              <span class="info-label">CPF</span>
              <span class="info-value">987.654.321-00</span>
            </div>
            <div class="client-info">
              <span class="info-label">Status</span>
              <span class="info-value" style="color: var(--cor-sucesso);">Ativo</span>
            </div>
          </div>
          <div class="client-actions">
            <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Editar</button>
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Excluir</button>
          </div>
        </div>
        
        <!-- Cliente 3 -->
        <div class="client-card">
          <div class="client-header">
            <div class="client-name">Ana Costa</div>
            <div class="client-id">#CL003</div>
          </div>
          <div class="client-details">
            <div class="client-info">
              <span class="info-label">E-mail</span>
              <span class="info-value">ana.costa@email.com</span>
            </div>
            <div class="client-info">
              <span class="info-label">Telefone</span>
              <span class="info-value">(11) 97777-7777</span>
            </div>
            <div class="client-info">
              <span class="info-label">CPF</span>
              <span class="info-value">456.789.123-00</span>
            </div>
            <div class="client-info">
              <span class="info-label">Status</span>
              <span class="info-value" style="color: var(--cor-erro);">Inativo</span>
            </div>
          </div>
          <div class="client-actions">
            <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Editar</button>
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Excluir</button>
          </div>
        </div>
      </div>
      
      <button class="add-client-btn">
        <i class="fas fa-plus"></i> Adicionar Novo Cliente
      </button>
    </div>
  </section>

  <script>
  // Dados de exemplo para clientes
  const clientsData = [
    {
      id: 'CL001',
      name: 'Maria Silva',
      email: 'maria.silva@email.com',
      phone: '(11) 99999-9999',
      cpf: '123.456.789-00',
      status: 'active',
      registrationDate: '2023-01-15'
    },
    {
      id: 'CL002',
      name: 'João Santos',
      email: 'joao.santos@email.com',
      phone: '(11) 98888-8888',
      cpf: '987.654.321-00',
      status: 'active',
      registrationDate: '2023-02-20'
    },
    {
      id: 'CL003',
      name: 'Ana Costa',
      email: 'ana.costa@email.com',
      phone: '(11) 97777-7777',
      cpf: '456.789.123-00',
      status: 'inactive',
      registrationDate: '2023-03-10'
    },
    {
      id: 'CL004',
      name: 'Pedro Almeida',
      email: 'pedro.almeida@email.com',
      phone: '(11) 96666-6666',
      cpf: '789.123.456-00',
      status: 'active',
      registrationDate: '2023-04-05'
    },
    {
      id: 'CL005',
      name: 'Carla Rodrigues',
      email: 'carla.rodrigues@email.com',
      phone: '(11) 95555-5555',
      cpf: '321.654.987-00',
      status: 'active',
      registrationDate: '2023-05-12'
    },
    {
      id: 'CL006',
      name: 'Fernando Lima',
      email: 'fernando.lima@email.com',
      phone: '(11) 94444-4444',
      cpf: '654.987.321-00',
      status: 'active',
      registrationDate: '2023-06-18'
    },
    {
      id: 'CL007',
      name: 'Juliana Martins',
      email: 'juliana.martins@email.com',
      phone: '(11) 93333-3333',
      cpf: '147.258.369-00',
      status: 'inactive',
      registrationDate: '2023-07-22'
    },
    {
      id: 'CL008',
      name: 'Ricardo Oliveira',
      email: 'ricardo.oliveira@email.com',
      phone: '(11) 92222-2222',
      cpf: '258.369.147-00',
      status: 'active',
      registrationDate: '2023-08-30'
    }
  ];

  // Variável global para controle de edição
  let editingClientId = null;

  // Função para gerar ID único para novos clientes
  function generateClientId() {
    const lastId = clientsData.reduce((max, client) => {
      const num = parseInt(client.id.substring(2));
      return num > max ? num : max;
    }, 0);
    return `CL${String(lastId + 1).padStart(3, '0')}`;
  }

  // Função para filtrar clientes
  function filterClients() {
    const searchTerm = document.getElementById('search-input').value.toLowerCase();
    const statusFilter = document.getElementById('status-filter').value;
    const sortFilter = document.getElementById('sort-filter').value;
    
    let filteredClients = clientsData.filter(client => {
      const statusMatch = statusFilter === 'all' || client.status === statusFilter;
      const searchMatch = searchTerm === '' || 
        client.name.toLowerCase().includes(searchTerm) || 
        client.email.toLowerCase().includes(searchTerm) || 
        client.phone.includes(searchTerm) ||
        client.cpf.includes(searchTerm);
      
      return statusMatch && searchMatch;
    });
    
    // Ordenar clientes
    if (sortFilter === 'name') {
      filteredClients.sort((a, b) => a.name.localeCompare(b.name));
    } else if (sortFilter === 'recent') {
      filteredClients.sort((a, b) => new Date(b.registrationDate) - new Date(a.registrationDate));
    } else if (sortFilter === 'oldest') {
      filteredClients.sort((a, b) => new Date(a.registrationDate) - new Date(b.registrationDate));
    }
    
    renderClients(filteredClients);
  }

  // Função para renderizar clientes
  function renderClients(clients) {
    const container = document.getElementById('clients-container');
    container.innerHTML = '';
    
    if (clients.length === 0) {
      container.innerHTML = '<div class="no-results">Nenhum cliente encontrado</div>';
      return;
    }
    
    clients.forEach(client => {
      const clientCard = document.createElement('div');
      clientCard.className = 'client-card';
      clientCard.dataset.id = client.id;
      
      clientCard.innerHTML = `
        <div class="client-header">
          <div class="client-name">${client.name}</div>
          <div class="client-id">#${client.id}</div>
        </div>
        <div class="client-details">
          <div class="client-info">
            <span class="info-label">E-mail</span>
            <span class="info-value">${client.email}</span>
          </div>
          <div class="client-info">
            <span class="info-label">Telefone</span>
            <span class="info-value">${client.phone}</span>
          </div>
          <div class="client-info">
            <span class="info-label">CPF</span>
            <span class="info-value">${client.cpf}</span>
          </div>
          <div class="client-info">
            <span class="info-label">Status</span>
            <span class="info-value status-value" style="color: ${client.status === 'active' ? 'var(--cor-sucesso)' : 'var(--cor-erro)'};">${client.status === 'active' ? 'Ativo' : 'Inativo'}</span>
          </div>
        </div>
        <div class="client-actions">
          <button class="action-btn edit-btn" data-id="${client.id}"><i class="fas fa-edit"></i> Editar</button>
          <button class="action-btn delete-btn" data-id="${client.id}"><i class="fas fa-trash"></i> Excluir</button>
        </div>
      `;
      
      container.appendChild(clientCard);
    });
    
    // Adicionar event listeners aos botões
    document.querySelectorAll('.edit-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const clientId = e.currentTarget.dataset.id;
        openEditModal(clientId);
      });
    });
    
    document.querySelectorAll('.delete-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const clientId = e.currentTarget.dataset.id;
        deleteClient(clientId);
      });
    });
    
    // Atualizar estatísticas
    updateStats(clients);
  }

  // Função para atualizar estatísticas
  function updateStats(clients) {
    const totalClients = clientsData.length;
    const activeClients = clientsData.filter(client => client.status === 'active').length;
    const inactiveClients = totalClients - activeClients;
    
    document.getElementById('total-clients').textContent = totalClients;
    document.getElementById('active-clients').textContent = activeClients;
    document.getElementById('inactive-clients').textContent = inactiveClients;
  }

  // Função para abrir modal de edição
  function openEditModal(clientId) {
    const client = clientsData.find(c => c.id === clientId);
    if (!client) return;
    
    editingClientId = clientId;
    
    // Criar modal de edição
    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.innerHTML = `
      <div class="modal-content">
        <h2>Editar Cliente</h2>
        <form id="edit-client-form">
          <div class="form-group">
            <label for="edit-name">Nome:</label>
            <input type="text" id="edit-name" value="${client.name}" required>
          </div>
          <div class="form-group">
            <label for="edit-email">E-mail:</label>
            <input type="email" id="edit-email" value="${client.email}" required>
          </div>
          <div class="form-group">
            <label for="edit-phone">Telefone:</label>
            <input type="text" id="edit-phone" value="${client.phone}" required>
          </div>
          <div class="form-group">
            <label for="edit-cpf">CPF:</label>
            <input type="text" id="edit-cpf" value="${client.cpf}" required>
          </div>
          <div class="form-group">
            <label for="edit-status">Status:</label>
            <select id="edit-status">
              <option value="active" ${client.status === 'active' ? 'selected' : ''}>Ativo</option>
              <option value="inactive" ${client.status === 'inactive' ? 'selected' : ''}>Inativo</option>
            </select>
          </div>
          <div class="form-actions">
            <button type="button" class="cancel-btn">Cancelar</button>
            <button type="submit">Salvar Alterações</button>
          </div>
        </form>
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Event listeners do modal
    document.getElementById('edit-client-form').addEventListener('submit', (e) => {
      e.preventDefault();
      saveClientChanges();
    });
    
    document.querySelector('.cancel-btn').addEventListener('click', () => {
      document.body.removeChild(modal);
      editingClientId = null;
    });
    
    // Fechar modal ao clicar fora
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        document.body.removeChild(modal);
        editingClientId = null;
      }
    });
  }

  // Função para salvar alterações do cliente
  function saveClientChanges() {
    const name = document.getElementById('edit-name').value;
    const email = document.getElementById('edit-email').value;
    const phone = document.getElementById('edit-phone').value;
    const cpf = document.getElementById('edit-cpf').value;
    const status = document.getElementById('edit-status').value;
    
    const clientIndex = clientsData.findIndex(c => c.id === editingClientId);
    if (clientIndex !== -1) {
      clientsData[clientIndex] = {
        ...clientsData[clientIndex],
        name,
        email,
        phone,
        cpf,
        status
      };
      
      // Fechar modal e atualizar lista
      document.querySelector('.modal')?.remove();
      filterClients();
      editingClientId = null;
      
      // Mostrar mensagem de sucesso
      alert('Cliente atualizado com sucesso!');
    }
  }

  // Função para excluir cliente
  function deleteClient(clientId) {
    if (confirm('Tem certeza que deseja excluir este cliente?')) {
      const clientIndex = clientsData.findIndex(c => c.id === clientId);
      if (clientIndex !== -1) {
        clientsData.splice(clientIndex, 1);
        filterClients();
        alert('Cliente excluído com sucesso!');
      }
    }
  }

  // Função para abrir modal de adicionar cliente
  function openAddClientModal() {
    // Criar modal de adição
    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.innerHTML = `
      <div class="modal-content">
        <h2>Adicionar Novo Cliente</h2>
        <form id="add-client-form">
          <div class="form-group">
            <label for="add-name">Nome:</label>
            <input type="text" id="add-name" required>
          </div>
          <div class="form-group">
            <label for="add-email">E-mail:</label>
            <input type="email" id="add-email" required>
          </div>
          <div class="form-group">
            <label for="add-phone">Telefone:</label>
            <input type="text" id="add-phone" required>
          </div>
          <div class="form-group">
            <label for="add-cpf">CPF:</label>
            <input type="text" id="add-cpf" required>
          </div>
          <div class="form-group">
            <label for="add-status">Status:</label>
            <select id="add-status">
              <option value="active">Ativo</option>
              <option value="inactive">Inativo</option>
            </select>
          </div>
          <div class="form-actions">
            <button type="button" class="cancel-btn">Cancelar</button>
            <button type="submit">Adicionar Cliente</button>
          </div>
        </form>
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Event listeners do modal
    document.getElementById('add-client-form').addEventListener('submit', (e) => {
      e.preventDefault();
      addNewClient();
    });
    
    document.querySelector('.cancel-btn').addEventListener('click', () => {
      document.body.removeChild(modal);
    });
    
    // Fechar modal ao clicar fora
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        document.body.removeChild(modal);
      }
    });
  }

  // Função para adicionar novo cliente
  function addNewClient() {
    const name = document.getElementById('add-name').value;
    const email = document.getElementById('add-email').value;
    const phone = document.getElementById('add-phone').value;
    const cpf = document.getElementById('add-cpf').value;
    const status = document.getElementById('add-status').value;
    
    const newClient = {
      id: generateClientId(),
      name,
      email,
      phone,
      cpf,
      status,
      registrationDate: new Date().toISOString().split('T')[0] // Data atual no formato YYYY-MM-DD
    };
    
    clientsData.push(newClient);
    
    // Fechar modal e atualizar lista
    document.querySelector('.modal')?.remove();
    filterClients();
    
    // Mostrar mensagem de sucesso
    alert('Cliente adicionado com sucesso!');
  }

  // Adicionar estilos para o modal
  function addModalStyles() {
    const style = document.createElement('style');
    style.textContent = `
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }
      
      .modal-content {
        background-color: white;
        padding: 25px;
        border-radius: 8px;
        width: 90%;
        max-width: 500px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }
      
      .modal-content h2 {
        margin-bottom: 20px;
        color: var(--cor-primaria);
      }
      
      .form-group {
        margin-bottom: 15px;
      }
      
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
      }
      
      .form-group input,
      .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--cor-borda);
        border-radius: 4px;
        font-family: 'Inter', sans-serif;
      }
      
      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 20px;
      }
      
      .form-actions button {
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-family: 'Inter', sans-serif;
      }
      
      .form-actions button[type="submit"],
      .form-actions button[type="button"] {
        background-color: var(--cor-destaque);
        color: white;
        border: none;
      }
      
      .form-actions .cancel-btn {
        background-color: #6c757d;
      }
      
      .form-actions button:hover {
        opacity: 0.9;
      }
    `;
    document.head.appendChild(style);
  }

  // Event listeners
  document.getElementById('search-button').addEventListener('click', filterClients);
  document.getElementById('search-input').addEventListener('keyup', (e) => {
    if (e.key === 'Enter') {
      filterClients();
    }
  });

  document.getElementById('status-filter').addEventListener('change', filterClients);
  document.getElementById('sort-filter').addEventListener('change', filterClients);

  document.querySelector('.add-client-btn').addEventListener('click', openAddClientModal);

  // Inicializar a aplicação
  document.addEventListener('DOMContentLoaded', () => {
    addModalStyles();
    renderClients(clientsData);
  });
</script>
</body>
</html>